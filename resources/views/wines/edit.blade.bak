@extends('layouts.app')

@section('title', 'De Coninck - Grape')

@section('content')
<div class="container">
    <form action="{{ route('wines.update', $wine->id) }}" method="POST">
        @csrf
        @method('PUT')
        <div class="card">
            <div class="card-header">
                <b>Modifier : </b>{{ $wine->name }} - {{ $wine->year }}
            </div>
            <div class="card-body">
                <div class="row gy-3">
                    <div class='col-10'>
                        <label for="inputWineNameId" class="form-label">Nom</label>
                        <input type="text" class="form-control" id="inputWineNameId" placeholder="Nom du vin ?" name="name" value="{{ $wine->name }}"/>
                    </div>
                    <div class='col-2'>
                        <label for="inputWineYearId" class="form-label">Millésime</label>
                        <select class="form-select" aria-label="Year ?" id="inputWineYearId" name="year">
                            @for ($i = 1900; $i < (date("Y") + 1); $i++)
                                <option value="{{ $i }} " {{ $wine->year === $i ? 'selected' : '' }}>{{ $i }}</option>
                            @endfor
                        </select>
                    </div>
                    <div class='col-6'>
                        <label for="inputWineGrapeId" class="form-label">Cépage</label>
                        <select class="form-select" aria-label="Cépage ?" id="inputWineGrapeId" name="grape">
                            @foreach ($grapes as $grape)
                                <option value="{{ $grape->id }} " {{ $wine->grape_id === $grape->id ? 'selected' : '' }}>{{ $grape->name }}</option>
                            @endforeach
                        </select>
                    </div>
                    <div class='col-6'>
                        <label for="inputWineTypeId" class="form-label">Type</label>
                        <select class="form-select" aria-label="Type ?" id="inputWineTypeId" name="type">
                            @foreach ($types as $type)
                                <option value="{{ $type->id }} " {{ $wine->type_id === $type->id ? 'selected' : '' }}>{{ $type->name }}</option>
                            @endforeach
                        </select>
                    </div>
                    <div class='col-12'>
                        <input type="file" class="form-control" id="inputGroupFileId" aria-describedby="inputGroupFileUploadId" aria-label="Ajouter image">
                    </div>
                </div>
            </div>
            <div class="card-footer">
                <div class="col-3 col-offset-4">
                    <a class="btn btn-secondary" href="{{ route('wines.index') }}">Annuler</a>
                    <button class="btn btn-primary" type="submit">Sauvegarder</button>
                </div>
            </div>
        </div>
    </form>
</div>
@endsection
